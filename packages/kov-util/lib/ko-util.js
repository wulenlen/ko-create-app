!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).util={})}(this,(function(t){"use strict";const e={set(t,e){if(e){const r="object"==typeof e?JSON.stringify(e):e;window.localStorage[t]=r}else delete window.localStorage[t]},get(t){const e=window.localStorage[t]||"";return this.isJSONStr(e)?JSON.parse(e):e},isJSONStr:t=>"{"===t.charAt(0)&&"}"===t.charAt(t.length-1)||"["===t.charAt(0)&&"]"===t.charAt(t.length-1),clear(){window.localStorage.clear()}},r={reduceConfig(t){if(!_.isArray(t))return t;let e={};for(let r=0,n=t.length;r<n;r++)e[t[r]._name]=this.reduceConfig(t[r]._value);return e},getValueFromConfig(t,e){function r(e){let r={_value:t};return e.split(".").every((t,e)=>r=_.isNumber(t)?r._value[t]:r._value.find(e=>e._name===t)),r||{}}return arguments.length<2?r:r(e)}};function n(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function o(){}var s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),g=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),f=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),p=new RegExp("^hsl\\("+[l,u,u]+"\\)$"),m=new RegExp("^hsla\\("+[l,u,u,l]+"\\)$"),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function w(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?M(e):3===r?new N(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?new N(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?new N(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new N(e[1],e[2],e[3],1):(e=g.exec(t))?new N(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?v(e[1],e[2],e[3],e[4]):(e=f.exec(t))?v(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?$(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?$(e[1],e[2]/100,e[3]/100,e[4]):x.hasOwnProperty(t)?M(x[t]):"transparent"===t?new N(NaN,NaN,NaN,0):null}function M(t){return new N(t>>16&255,t>>8&255,255&t,1)}function v(t,e,r,n){return n<=0&&(t=e=r=NaN),new N(t,e,r,n)}function k(t){return t instanceof o||(t=w(t)),t?new N((t=t.rgb()).r,t.g,t.b,t.opacity):new N}function N(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function S(){return"#"+I(this.r)+I(this.g)+I(this.b)}function P(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function I(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function $(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new E(t,e,r,n)}function R(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=w(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(s=e===a?(r-n)/l+6*(r<n):r===a?(n-e)/l+2:(e-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new E(s,l,u,t.opacity)}function E(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function q(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}function A(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}n(o,w,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return R(this).formatHsl()},formatRgb:b,toString:b}),n(N,(function(t,e,r,n){return 1===arguments.length?k(t):new N(t,e,r,null==n?1:n)}),i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:P,toString:P})),n(E,(function(t,e,r,n){return 1===arguments.length?R(t):new E(t,e,r,null==n?1:n)}),i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new N(q(t>=240?t-240:t+120,i,n),q(t,i,n),q(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var T,F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function j(t){if(!(e=F.exec(t)))throw new Error("invalid format: "+t);var e;return new z({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function z(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function D(t,e){var r=A(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}j.prototype=z.prototype,z.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var O={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return D(100*t,e)},r:D,s:function(t,e){var r=A(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(T=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+A(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function H(t){return t}var C,U,J=Array.prototype.map,Y=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function L(t){var e,r,n=void 0===t.grouping||void 0===t.thousands?H:(e=J.call(t.grouping,Number),r=t.thousands+"",function(t,n){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(r)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?H:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(J.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=j(t)).fill,r=t.align,c=t.sign,g=t.symbol,d=t.zero,f=t.width,p=t.comma,m=t.precision,x=t.trim,y=t.type;"n"===y?(p=!0,y="g"):O[y]||(void 0===m&&(m=12),x=!0,y="g"),(d||"0"===e&&"="===r)&&(d=!0,e="0",r="=");var b="$"===g?i:"#"===g&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===g?a:/[%p]/.test(y)?l:"",M=O[y],v=/[defgprs%]/.test(y);function k(t){var i,a,l,g=b,k=w;if("c"===y)k=M(t)+k,t="";else{var N=(t=+t)<0;if(t=isNaN(t)?h:M(Math.abs(t),m),x&&(t=function(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),N&&0==+t&&(N=!1),g=(N?"("===c?c:u:"-"===c||"("===c?"":c)+g,k=("s"===y?Y[8+T/3]:"")+k+(N&&"("===c?")":""),v)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}p&&!d&&(t=n(t,1/0));var S=g.length+t.length+k.length,P=S<f?new Array(f-S+1).join(e):"";switch(p&&d&&(t=n(P+t,P.length?f-k.length:1/0),P=""),r){case"<":t=g+t+k+P;break;case"=":t=g+P+t+k;break;case"^":t=P.slice(0,S=P.length>>1)+g+t+k+P.slice(S);break;default:t=P+g+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:c,formatPrefix:function(t,e){var r,n=c(((t=j(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((r=e,((r=A(Math.abs(r)))?r[1]:NaN)/3)))),a=Math.pow(10,-i),o=Y[8+i/3];return function(t){return n(a*t)+o}}}}C=L({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),U=C.format,C.formatPrefix;const W=require("lodash/toNumber"),X=require("lodash/toString"),V=require("lodash/isString"),B=require("lodash/replace"),G=U(".2f"),Z=U(".0f"),K={generateUUID(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},dateFormat(t,e){const r={"M+":(t=new Date(t)).getMonth()+1,"D+":t.getDate(),"H+":t.getHours(),"h+":t.getHours()%12==0?12:t.getHours()%12,"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds(),X:"星期"+"日一二三四五六".charAt(t.getDay()),W:new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday")[t.getDay()],w:new Array("Sun.","Mon."," Tues.","Wed."," Thur.","Fri.","Sat.")[t.getDay()]};/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in r)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[t]:("00"+r[t]).substr((""+r[t]).length)));return e},getTicksOfAxis(t,e){const r=t.length;if(e<2||e>r)return t;const n=Math.floor((r-e)/(e-1));return t.filter((t,e)=>e%(n+1)==0)},converColor(t,e=255){let{r:r,g:n,b:i,opacity:a=1}=w(t);return{r:r/e,g:n/e,b:i/e,a:a}},coordToVector(t,e,r,n){let i=r/360*(+t+180),a=+e*Math.PI/180,o=n/2-r*Math.log(Math.tan(Math.PI/4+a/2))/(2*Math.PI);return i-=r/2,o-=n/2,{x:i,y:-o}},clearMyInterval(t){clearInterval(t),t=null},generateUUID(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},getYTicks(t,e,r){r--;const n=(t-e)/r;return[...function(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((e-t)/r)),a=new Array(i);++n<i;)a[n]=t+n*r;return a}(0,r).map(t=>{let r=t*n+ +e;return+(r>-1&&r<1&&0!==r||n.toString().indexOf(".")>-1?G(r):Z(r))}),t]},degToRad:t=>Math.PI/180*t,lglt2xyz(t,e,r){let n=degToRad(t),i=degToRad(e),a=r*Math.sin(i),o=r*Math.cos(i);return{x:o*Math.sin(n),y:a,z:o*Math.cos(n)}},toFixed(t,e){let r=Math.pow(10,e);return(Math.round(t*r)/r).toFixed(e)},formattingFn(t,e){const{decimalSymbol:r=".",decimal:n,zeroNum:i,quartile:a,real:o=!0}=t,s=e<0;const l=toFixed(Math.abs(e),n).split(".");let u=l[0];const h=l.length>1?`${r}${l[1]}`:"",c=/(\d+)(\d{3})/;if(o&&i&&(u=("0".repeat(i)+u).slice(-i)),o&&a)for(;c.test(u);)u=u.replace(c,"$1,$2");return`${s?"-":""}${u}${h}${o?"":"%"}`},noRound(t,e){let r=t.toString().split("."),n=r[1];return e>0?(n=n||"",n=(n+"0".repeat(e)).slice(0,e),r[0]+"."+n):r[0]},getBackground(t){if(!t)return;let{fillType:e,colors:r,color:n,url:i}=t;return"pure"===e?n:"gradient"===e?"linear-gradient("+(r.rotate||0)+"deg, "+r.start+" 0%, "+r.end+" 100%)":i?"50% 50% / 100% 100% no-repeat url("+window.appConfig.ASSETS_URL+i+")":""},wgs84togcj02(t){let e=t[0],r=t[1];if(r=+r,e=+e,function(t,e){return e=+e,!((t=+t)>73.66&&t<135.05&&e>3.86&&e<53.55)}(e,r))return[e,r];{let t=function(t,e){let r=2*(t=+t)-100+3*(e=+e)+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return r+=2*(20*Math.sin(6*t*PI)+20*Math.sin(2*t*PI))/3,r+=2*(20*Math.sin(e*PI)+40*Math.sin(e/3*PI))/3,r+=2*(160*Math.sin(e/12*PI)+320*Math.sin(e*PI/30))/3,r}(e-105,r-35),n=function(t,e){let r=300+(t=+t)+2*(e=+e)+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return r+=2*(20*Math.sin(6*t*PI)+20*Math.sin(2*t*PI))/3,r+=2*(20*Math.sin(t*PI)+40*Math.sin(t/3*PI))/3,r+=2*(150*Math.sin(t/12*PI)+300*Math.sin(t/30*PI))/3,r}(e-105,r-35),i=r/180*PI,o=Math.sin(i);o=1-ee*o*o;let s=Math.sqrt(o);return t=180*t/(a*(1-ee)/(o*s)*PI),n=180*n/(a/s*Math.cos(i)*PI),[e+n,r+t]}},getDistance:(t,e,r,n)=>Math.sqrt(Math.pow(t-r,2)+Math.pow(e-n,2)),getRatio(){let{transform:t}=document.body.style,e=1,r=1,n=t.split("scale(")[1];if(n)if(/,/.test(n)){let[t,i]=n.split(",");e=parseFloat(t),r=parseFloat(i)}else e=r=parseFloat(n);return{widthRatio:e,heightRatio:r}},replacePxToNumber(t){let e=t;return V(e)||(e=X(e)),W(B(e,/px/g,""))},dataStr2Num:(t,e=["y","z","p"])=>t.map(t=>{for(let r=0;r<e.length;r++){const n=e[r];if(n in t)return{...t,[n]:+t[n]}}return t})};t.base=K,t.conf=r,t.localDb=e,Object.defineProperty(t,"__esModule",{value:!0})}));
